# üè¶ Bank Management API

[![Java](https://img.shields.io/badge/Java-17-orange.svg)](https://www.oracle.com/java/)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.5.6-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16-blue.svg)](https://www.postgresql.org/)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)

–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—á–µ—Ç–∞–º–∏.

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#-api-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
- [–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞](#-–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
- [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- **JWT —Ç–æ–∫–µ–Ω—ã** (Access + Refresh)
- –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: `CLIENT`, `ADMIN`
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

### üí∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- –ü–æ–ª–Ω—ã–π CRUD –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –±–∞–Ω–∫–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (–ò–ù–ù, email, —Ç–µ–ª–µ—Ñ–æ–Ω)
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫

### üè¶ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç–∞–º–∏
- **–î–µ–±–µ—Ç–æ–≤—ã–µ —Å—á–µ—Ç–∞** ‚Äî –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤
- **–ö—Ä–µ–¥–∏—Ç–Ω—ã–µ —Å—á–µ—Ç–∞** ‚Äî —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –∫—Ä–µ–¥–∏—Ç–Ω—ã–º –ª–∏–º–∏—Ç–æ–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–º–µ—Ä–æ–≤ —Å—á–µ—Ç–æ–≤
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—á–µ—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ –¥–ª—è ADMIN)

### üí≥ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–∞–º–∏
- –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç –¥–ª—è —Å—á–µ—Ç–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∫–∞—Ä—Ç (ACTIVE, BLOCKED)
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–∞—Ä—Ç

### üí∏ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- **–ê—Ç–æ–º–∞—Ä–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã** –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö –≤–∞–ª—é—Ç (RUB, USD, EUR –∏ –¥—Ä.)
- –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ |
|-----------|-----------|
| **Backend Framework** | Spring Boot 3.5.6 |
| **Language** | Java 17 |
| **Security** | Spring Security + JWT (JJWT) |
| **Database** | PostgreSQL 16 / H2 (–¥–ª—è —Ç–µ—Å—Ç–æ–≤) |
| **ORM** | Spring Data JPA / Hibernate |
| **Migrations** | Flyway |
| **API Docs** | Swagger UI / OpenAPI 3 |
| **Build Tool** | Maven |
| **Utilities** | Lombok, Jakarta Validation |

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

```
Customer (–ö–ª–∏–µ–Ω—Ç)
  ‚îú‚îÄ‚îÄ Account (–°—á–µ—Ç)
  ‚îÇ     ‚îú‚îÄ‚îÄ DEBIT (–î–µ–±–µ—Ç–æ–≤—ã–π)
  ‚îÇ     ‚îî‚îÄ‚îÄ CREDIT (–ö—Ä–µ–¥–∏—Ç–Ω—ã–π)
  ‚îÇ           ‚îî‚îÄ‚îÄ Card (–ö–∞—Ä—Ç–∞)
  ‚îÇ
  ‚îî‚îÄ‚îÄ UserAccount (–£—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å –¥–ª—è –≤—Ö–æ–¥–∞)

Transaction (–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è)
  ‚îú‚îÄ‚îÄ fromAccount (–°—á–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è)
  ‚îî‚îÄ‚îÄ toAccount (–°—á–µ—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª—è)
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–∫–µ—Ç–æ–≤

```
com.rus.bank/
‚îú‚îÄ‚îÄ config/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (Security, Web, Properties)
‚îú‚îÄ‚îÄ controller/      # REST –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îú‚îÄ‚îÄ service/         # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ repository/      # Data Access Layer
‚îú‚îÄ‚îÄ model/           # JPA —Å—É—â–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ dto/             # Data Transfer Objects
‚îú‚îÄ‚îÄ security/        # JWT –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îî‚îÄ‚îÄ exception/       # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **JDK 17+**
- **Maven 3.6+**
- **Docker & Docker Compose** (–¥–ª—è PostgreSQL)
- **PostgreSQL 16** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å H2)

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone <repository-url>
cd laba2-rbpo
```

### 2. –ó–∞–ø—É—Å–∫ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (PostgreSQL)

```bash
docker-compose up -d
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç PostgreSQL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:
- **Host**: `localhost:5432`
- **Database**: `bank`
- **User**: `bank`
- **Password**: `bank`

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `application.properties` –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å:

**–î–ª—è PostgreSQL:**
```properties
spring.profiles.active=postgres
```

**–î–ª—è H2 (in-memory, –¥–ª—è —Ç–µ—Å—Ç–æ–≤):**
```properties
spring.profiles.active=h2
```

### 4. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ß–µ—Ä–µ–∑ Maven Wrapper
./mvnw spring-boot:run

# –ò–ª–∏ —á–µ—Ä–µ–∑ Maven
mvn spring-boot:run

# –ò–ª–∏ —á–µ—Ä–µ–∑ IDE
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ BankApplication.main()
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: **http://localhost:8080**

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Swagger UI
open http://localhost:8080/swagger

# –ò–ª–∏ —á–µ—Ä–µ–∑ curl
curl http://localhost:8080/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{"username":"test","password":"test1234"}'
```

---

## üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### Swagger UI

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:
```
http://localhost:8080/swagger
```

### OpenAPI JSON
```
http://localhost:8080/api-docs
```

---

## üîÑ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### –¢–∏–ø—ã —Å—á–µ—Ç–æ–≤

#### –î–µ–±–µ—Ç–æ–≤—ã–π —Å—á–µ—Ç (DEBIT)
- –ë–∞–ª–∞–Ω—Å –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –∫–ª–∏–µ–Ω—Ç–∞

#### –ö—Ä–µ–¥–∏—Ç–Ω—ã–π —Å—á–µ—Ç (CREDIT)
- –ë–∞–ª–∞–Ω—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º –¥–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è —É–∫–∞–∑–∞—Ç—å `creditLimit`
- –î–æ—Å—Ç—É–ø–Ω—ã–π –±–∞–ª–∞–Ω—Å = `balance + creditLimit`

### –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

#### –ü–µ—Ä–µ–≤–æ–¥ –¥–µ–Ω–µ–≥
```http
POST /api/transactions
Authorization: Bearer <access_token>
Content-Type: application/json

{
  "fromAccountId": 1,
  "toAccountId": 2,
  "amount": 1000.00,
  "currency": "RUB",
  "description": "–ü–µ—Ä–µ–≤–æ–¥ –∑–∞ —É—Å–ª—É–≥–∏"
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ê—Ç–æ–º–∞—Ä–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è (@Transactional)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å—á–µ—Ç–æ–≤ (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å ACTIVE)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–æ–≤
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º

| –û–ø–µ—Ä–∞—Ü–∏—è | CLIENT | ADMIN |
|----------|--------|-------|
| –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –¥–∞–Ω–Ω—ã—Ö | ‚úÖ | ‚úÖ |
| –°–æ–∑–¥–∞–Ω–∏–µ —Å—á–µ—Ç–æ–≤/–∫–∞—Ä—Ç | ‚úÖ | ‚úÖ |
| –ü–µ—Ä–µ–≤–æ–¥—ã –¥–µ–Ω–µ–≥ | ‚úÖ | ‚úÖ |
| –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—á–µ—Ç–æ–≤ | ‚ùå | ‚úÖ |
| –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–∞—Ä—Ç | ‚ùå | ‚úÖ |
| –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ | ‚úÖ | ‚úÖ |

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### JWT –¢–æ–∫–µ–Ω—ã

- **Access Token**: –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 15 –º–∏–Ω—É—Ç (900 —Å–µ–∫—É–Ω–¥)
- **Refresh Token**: –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 14 –¥–Ω–µ–π (1209600 —Å–µ–∫—É–Ω–¥)
- **–ê–ª–≥–æ—Ä–∏—Ç–º**: HS256
- **–•—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π**: –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```properties
# JWT Secret (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏–∑–º–µ–Ω–∏—Ç–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ!)
security.jwt.secret=your-secret-key-here
security.jwt.access-ttl-seconds=900
security.jwt.refresh-ttl-seconds=1209600
```

### –ü—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

- `POST /api/auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /api/auth/login` - –í—Ö–æ–¥
- `POST /api/auth/refresh` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- `GET /swagger/**` - Swagger UI

–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç –≤–∞–ª–∏–¥–Ω—ã–π Access Token.

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥

```bash
# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞
curl -X POST http://localhost:8080/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "username": "client1",
    "password": "password123",
    "role": "CLIENT"
  }'

# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
curl -X POST http://localhost:8080/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "username": "admin",
    "password": "admin123",
    "role": "ADMIN"
  }'

# –í—Ö–æ–¥
curl -X POST http://localhost:8080/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "client1",
    "password": "password123"
  }'

# –û—Ç–≤–µ—Ç:
# {
#   "accessToken": "eyJhbGciOiJIUzI1NiJ9...",
#   "refreshToken": "eyJhbGciOiJIUzI1NiJ9..."
# }
```

### 2. –†–∞–±–æ—Ç–∞ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
curl -X POST http://localhost:8080/api/customers \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer <access_token>" \
  -d '{
    "firstName": "–ò–≤–∞–Ω",
    "lastName": "–ò–≤–∞–Ω–æ–≤",
    "taxId": "1234567890",
    "email": "ivan@example.com",
    "phone": "+79991234567",
    "address": "–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 1"
  }'

# –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
curl http://localhost:8080/api/customers \
  -H "Authorization: Bearer <access_token>"

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ ID
curl http://localhost:8080/api/customers/1 \
  -H "Authorization: Bearer <access_token>"
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ —Å—á–µ—Ç–∞

```bash
# –î–µ–±–µ—Ç–æ–≤—ã–π —Å—á–µ—Ç
curl -X POST http://localhost:8080/api/accounts \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer <access_token>" \
  -d '{
    "customerId": 1,
    "currency": "RUB",
    "type": "DEBIT"
  }'

# –ö—Ä–µ–¥–∏—Ç–Ω—ã–π —Å—á–µ—Ç
curl -X POST http://localhost:8080/api/accounts \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer <access_token>" \
  -d '{
    "customerId": 1,
    "currency": "RUB",
    "type": "CREDIT",
    "creditLimit": 100000.00
  }'
```

### 4. –ü–µ—Ä–µ–≤–æ–¥ –¥–µ–Ω–µ–≥

```bash
curl -X POST http://localhost:8080/api/transactions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer <access_token>" \
  -d '{
    "fromAccountId": 1,
    "toAccountId": 2,
    "amount": 5000.00,
    "currency": "RUB",
    "description": "–ü–µ—Ä–µ–≤–æ–¥ –∑–∞ —É—Å–ª—É–≥–∏"
  }'
```

### 5. –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—á–µ—Ç–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è ADMIN)

```bash
curl -X PATCH http://localhost:8080/api/accounts/1/block \
  -H "Authorization: Bearer <admin_access_token>"

# –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
curl -X PATCH http://localhost:8080/api/accounts/1/unblock \
  -H "Authorization: Bearer <admin_access_token>"
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
mvn test
```

### –ü—Ä–æ—Ñ–∏–ª–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ H2 in-memory –±–∞–∑—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```properties
spring.profiles.active=h2
```

---

## üì¶ –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –°–æ–∑–¥–∞–Ω–∏–µ JAR —Ñ–∞–π–ª–∞

```bash
mvn clean package
```

JAR —Ñ–∞–π–ª –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –≤ `target/bank-api-0.0.1-SNAPSHOT.jar`

### –ó–∞–ø—É—Å–∫ JAR —Ñ–∞–π–ª–∞

```bash
java -jar target/bank-api-0.0.1-SNAPSHOT.jar
```

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (application.properties)

```properties
# –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
server.port=8080

# –ü—Ä–æ—Ñ–∏–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
spring.profiles.active=postgres

# Swagger UI
springdoc.swagger-ui.path=/swagger
springdoc.api-docs.path=/api-docs

# JWT –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
security.jwt.secret=${JWT_SECRET:defaultSecretKeyForDevelopmentOnlyChangeInProduction123456}
security.jwt.access-ttl-seconds=900
security.jwt.refresh-ttl-seconds=1209600
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ PostgreSQL

```properties
spring.datasource.url=jdbc:postgresql://localhost:5432/bank
spring.datasource.username=bank
spring.datasource.password=bank
spring.jpa.hibernate.ddl-auto=validate
spring.flyway.enabled=true
```

---

## üóÑ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –ú–∏–≥—Ä–∞—Ü–∏–∏

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Flyway –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –ú–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤:
```
src/main/resources/db/migration/
```

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

- `customers` - –ö–ª–∏–µ–Ω—Ç—ã –±–∞–Ω–∫–∞
- `accounts` - –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Å—á–µ—Ç–∞
- `cards` - –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–∞—Ä—Ç—ã
- `transactions` - –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `users` - –£—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `user_sessions` - –°–µ—Å—Å–∏–∏ JWT —Ç–æ–∫–µ–Ω–æ–≤

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º–æ—Ç—Ä–∏—Ç–µ —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

---

## üë• –ê–≤—Ç–æ—Ä—ã

- **–í–∞—à–µ –∏–º—è** - [GitHub –ø—Ä–æ—Ñ–∏–ª—å](https://github.com/yourusername)

---

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- Spring Boot –∫–æ–º–∞–Ω–¥–∞ –∑–∞ –æ—Ç–ª–∏—á–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- PostgreSQL —Å–æ–æ–±—â–µ—Å—Ç–≤–æ
- –í—Å–µ –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä—ã open-source –±–∏–±–ª–∏–æ—Ç–µ–∫

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ [Issue](../../issues) –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

---

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –∏—Å–ø–æ–ª—å–∑—É—è Spring Boot**
